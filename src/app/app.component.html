<div class="app-container">
  <!-- Header -->
  <app-header [sidebarOpen]="sidebarToggle" (sidebarToggle)="onSidebarToggle()"></app-header>
  
  <!-- Main Content Area -->
  <div class="main-content">
    <!-- Sidebar -->
    <app-sidebar 
      *ngIf="user" 
      [sidebarOpen]="sidebarToggle" 
      (sidebarClose)="onSidebarClose()"
      (sidebarCollapse)="onSidebarCollapse($event)">
    </app-sidebar>
    
    <!-- Content Container -->
    <div [ngClass]="getContentWrapperClasses()">
      <div class="content-area">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
</div>

<!-- Mobile Sidebar Backdrop -->
<div 
  *ngIf="isMobile && sidebarToggle" 
  class="sidebar-backdrop visible"
  (click)="onSidebarClose()">
</div>

<!-- Global Loading -->
<app-loading 
  *ngIf="isLoading"
  [config]="loadingConfig"
  [visible]="isLoading">
</app-loading>

<!-- Global Fullscreen Loading -->
<app-loading 
  *ngIf="isFullscreenLoading"
  [config]="fullscreenLoadingConfig"
  [visible]="isFullscreenLoading">
</app-loading>

<app-select-program *ngIf="gs.createProgramPopupShow"></app-select-program>
